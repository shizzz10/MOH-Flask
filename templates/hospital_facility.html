{% extends "base_dashboard.html" %} {% block title %} Hospital Facility {% endblock %} {%
    block content %}
    
      <!-- Content  -->
      <div
      class="flex flex-col gap-8 mt-6 mb-6 sm:mb-2 w-full xl:max-w-[1200px] overflow-hidden p-1"
    >
      <!-- heading  -->
      <div class="flex items-center justify-between gap-6">
        <h2 class="text-2xl sm:text-3xl lg:text-3xl text-lightmain font-bold">
          المستشفيات/Hospitals
        </h2>
      </div>

      <!-- facility info -->
      <div
        class="flex items-center gap-3 sm:gap-4 lg:gap-x-6 xl:gap-x-6 button-slider overflow-hidden sm:flex-wrap 2xl:justify-between"
      >
        <!-- Total Facilities  -->
        <div
          class="bg-darkmain/90 hover:bg-darkmain/80 rounded-2xl w-40 sm:w-44 lg:w-48 aspect-[7/4] flex flex-col gap-0 text-white overflow-hidden shrink-0 shadow-sm shadow-lightmain/20"
        >
          <button
            class="flex flex-col items-center justify-center gap-1 sm:gap-3 w-full px-3 py-2 lg:pt-4 sm:px-4 h-full"
          >
              <h5
                class="flex font-bold text-xl sm:text-2xl lg:text-3xl leading-5"
              >
               80
              </h5>
              <h5
                class="flex font-semibold text-lg sm:text-xl lg:text-2xl leading-5 sm:leading-6"
              >
              إجمالي المرافق
              </h5>
          </button>
        </div>

            <!--  Active Licences  -->
            <div
            class="bg-green-300/60 hover:bg-green-300/80 border border-green-300 rounded-2xl w-40 sm:w-44 lg:w-48 aspect-[7/4] flex flex-col gap-0 text-green-600 overflow-hidden shrink-0 shadow-sm shadow-lightmain/20"
          >
            <button
              class="flex flex-col items-center justify-center gap-1 sm:gap-3 w-full px-3 py-2 lg:pt-4 sm:px-4 h-full"
            >
                <h5
                  class="flex font-bold text-xl sm:text-2xl lg:text-3xl leading-5"
                >
                 70
                </h5>
                <h5
                  class="flex font-semibold text-lg sm:text-xl lg:text-2xl leading-5 sm:leading-6"
                >
                التراخيص النشطة
                </h5>
            </button>
          </div>
  

       
            <!--  Expired Licences  -->
            <div
            class="bg-red-300/60 hover:bg-red-300/80 border border-red-300 rounded-2xl w-40 sm:w-44 lg:w-48 aspect-[7/4] flex flex-col gap-0 text-red-600 overflow-hidden shrink-0 shadow-sm shadow-lightmain/20"
          >
            <button
              class="flex flex-col items-center justify-center gap-1 sm:gap-3 w-full px-3 py-2 lg:pt-4 sm:px-4 h-full"
            >
                <h5
                  class="flex font-bold text-xl sm:text-2xl lg:text-3xl leading-5"
                >
                 10
                </h5>
                <h5
                  class="flex font-semibold text-lg sm:text-xl lg:text-2xl leading-5 sm:leading-6"
                >
                التراخيص منتهية الصلاحية
                </h5>
            </button>
          </div>

          <!-- Pie Chart  -->
  <div class="w-60 sm:w-64 lg:w-64">
    <canvas id="myPieChart"></canvas>
  </div>
      
      </div>

      <!-- search bar  -->

      <div class="flex items-center justify-center relative w-[100%]">
        <input type="text" placeholder="البحث حسب اسم المستشفى" class="w-full border border-lightmain rounded-4xl pl-8 p-2 text-black focus-visible:outline-darkmain">
        <img src="{{ url_for('static', filename='assets/search.svg') }}" class="w-5 absolute top-1/2 transform -translate-y-1/2 left-2" alt="">
      </div>

<!-- table -->
       <div class="flex button-slider">
<table class="bg-white shadow-sm shadow-black/20 rounded-lg overflow-hidden shrink-0 w-[600px] sm:w-full text-right">
    <thead>
      <tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal grid grid-cols-7 gap-4 sm:gap-6 lg:gap-8 justify-items-start py-1.5 px-3 sm:py-2 sm:px-4 lg:py-3 lg:px-6 font-medium lg:text-base">
        <th class="">اسم المستشفى</th>
        <th class="">عدد الأسرة</th>
        <th class="">حالة الترخيص</th>
        <th class="">تاريخ الانتهاء</th>
        <th class="">الموقع</th>
        <th class="">الاتصال</th>
        <th class="">الإجراءات</th>
      </tr>
    </thead>
    <tbody class="text-gray-600 text-sm font-light">
      <tr class="border-b border-gray-200 hover:bg-gray-100 text-sm leading-normal grid grid-cols-7 gap-4 sm:gap-6 lg:gap-8 justify-items-start py-1.5 px-3 sm:py-2 sm:px-4 lg:py-3 lg:px-6 lg:text-base">
        <td class="underline">
          <a href="{{ url_for('view_facility') }}">مستشفى الأمين العام</a>
        </td>
        <td class="">132</td>
        <td class="">
          <span class="bg-green-200 text-green-600 py-1 px-3 rounded-full text-xs">نشط</span>
        </td>
        <td class="break-all">2024-07-11</td>
        <td class="">الطائف</td>
        <td class="break-all">506700648</td>
        <td class="flex flex-col gap-2">
          <a href="#" class="text-red-500 hover:underline">حذف</a>
          <a href="" class="text-blue-500 hover:underline">تعديل</a>
        </td>
      </tr>
      <tr class="border-b border-gray-200 hover:bg-gray-100 text-sm leading-normal grid grid-cols-7 gap-4 sm:gap-6 lg:gap-8 justify-items-start py-1.5 px-3 sm:py-2 sm:px-4 lg:py-3 lg:px-6 lg:text-base">
        <td class="underline">
          <a href="{{ url_for('view_facility') }}">مستشفى الطائف الطبي</a>
        </td>
        <td class="">20</td>
        <td class="">
          <span class="bg-green-200 text-green-600 py-1 px-3 rounded-full text-xs">نشط</span>
        </td>
        <td class="break-all">2024-12-29</td>
        <td class="">الطائف</td>
        <td class="break-all">505405108</td>
        <td class="flex flex-col gap-2">
          <a href="#" class="text-red-500 hover:underline">حذف</a>
          <a href="" class="text-blue-500 hover:underline">تعديل</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>




      <!-- map -->
      <div
        class="flex items-center justify-center w-full"
      >

        <iframe   class="w-[100%] lg:w-[100%] aspect-[5/2] lg:aspect-[6/2] object-cover rounded-xl shadow-sm shadow-black/20" src="https://www.google.com/maps/embed?pb=!1m16!1m12!1m3!1d363843.9864496753!2d40.29590603500833!3d21.38904559651173!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!2m1!1sTaif%20hospials!5e0!3m2!1sen!2s!4v1741219023101!5m2!1sen!2s" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">></iframe>
      </div>

     


    </div>
    

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  
    <script>
        // Data for the pie chart
        const data = {
  labels: ['Active', 'Expired'], // Only two labels
  datasets: [{
    label: 'Status',
    data: [80, 20], // Example data: 80% Active, 20% Expired
    backgroundColor: [
      '#28d784', // Green for Active
      '#da252f'  // Red for Expired
    ],
    borderColor: [
      '#28d784', // Border color for Active
      '#da252f'  // Border color for Expired
    ],
    borderWidth: 1
  }]
};


    
        // Configuration options
        const options = {
          responsive: true,
          plugins: {
            legend: {
              position: 'top',
            },
            title: {
              display: true,
            }
          }
        };
    
        // Create the pie chart
        const ctx = document.getElementById('myPieChart').getContext('2d');
        const myPieChart = new Chart(ctx, {
          type: 'pie',
          data: data,
          options: options
        });
      </script>

    {% endblock %}
    